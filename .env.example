# Database Configuration
DB_USER=calcutta
DB_PASSWORD=calcutta
DB_NAME=calcutta
DB_HOST=db
DB_PORT=5432
DB_SSLMODE=disable

# API Configuration
API_URL=http://backend:8080
PORT=8080

# CORS
# In production, you must set one of these.
# ALLOWED_ORIGINS supports comma-separated list.
ALLOWED_ORIGINS=http://localhost:3000

# Environment
NODE_ENV=development

# Cookie Configuration (optional)
# In production, these should typically resolve to Secure cookies.
# In development, you may prefer non-secure cookies so localhost refresh works over http.
# Valid COOKIE_SAMESITE values: none, lax, strict
COOKIE_SECURE=
COOKIE_SAMESITE=

# Runtime hardening (recommended for production)
HTTP_READ_TIMEOUT_SECONDS=15
HTTP_WRITE_TIMEOUT_SECONDS=15
HTTP_IDLE_TIMEOUT_SECONDS=60
HTTP_READ_HEADER_TIMEOUT_SECONDS=5
HTTP_MAX_BODY_BYTES=2097152

PGX_POOL_MAX_CONNS=10
PGX_POOL_MIN_CONNS=0
PGX_POOL_MAX_CONN_LIFETIME_SECONDS=1800
PGX_POOL_HEALTH_CHECK_PERIOD_SECONDS=30

# Basic in-process rate limiting (requests per minute per client IP)
# Set to 0 to disable.
RATE_LIMIT_RPM=600

# Observability
# If enabled outside development, METRICS_AUTH_TOKEN is required.
METRICS_ENABLED=false
METRICS_AUTH_TOKEN=

JWT_SECRET=your-secret-key-here
ACCESS_TOKEN_TTL_SECONDS=900
REFRESH_TOKEN_TTL_HOURS=720

# Simulated Calcutta Configuration
# Entry name to exclude from simulated calcutta analysis (e.g., algorithm author to avoid leakage)
EXCLUDED_ENTRY_NAME="Andrew Copp"
# Number of Monte Carlo simulations for evaluations (higher = more accurate but slower)
DEFAULT_N_SIMS=10000
AUTH_MODE=legacy
COGNITO_REGION=us-east-1
COGNITO_USER_POOL_ID=us-east-1_XXXXXXXXX
COGNITO_APP_CLIENT_ID=XXXXXXXXXXXXXXXXXXXXXXXXXX
COGNITO_AUTO_PROVISION=true
COGNITO_ALLOW_UNPROVISIONED=false

SMTP_HOST=mailpit
SMTP_PORT=1025
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@marchmarkets.com
SMTP_FROM_NAME="March Markets"
SMTP_STARTTLS=false

INVITE_BASE_URL=https://marchmarkets.com
INVITE_RESEND_MIN_SECONDS=60

# Bootstrap admin (created on first startup if AUTH_MODE=legacy)
BOOTSTRAP_ADMIN_EMAIL=admin@example.com
BOOTSTRAP_ADMIN_PASSWORD=changeme